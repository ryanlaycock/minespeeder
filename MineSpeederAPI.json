{
    "openapi": "3.0.2",
    "info": {
        "title": "MineSpeederAPI",
        "version": "1.0.0",
        "description": "Backend API spec for the MineSpeeder game - an online Minesweeper inspired battle game"
    },
    "paths": {
        "/v1/games/{gameId}/boards/{boardId}": {
            "get": {
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/board"
                                }
                            }
                        },
                        "description": "Returns a board from the server"
                    }
                },
                "summary": "Get a specific board"
            },
            "parameters": [
                {
                    "name": "gameId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                },
                {
                    "name": "boardId",
                    "schema": {
                        "type": "string"
                    },
                    "in": "path",
                    "required": true
                }
            ]
        },
        "/v1/games/{gameId}/boards/{boardId}/actions": {
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/action"
                            }
                        }
                    },
                    "required": true
                },
                "parameters": [
                    {
                        "name": "gameId",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    },
                    {
                        "name": "boardId",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Action was created successfully"
                    }
                },
                "summary": "Create an action on the board"
            }
        },
        "/v1/games/{gameId}": {
            "get": {
                "parameters": [
                    {
                        "name": "gameId",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/game"
                                }
                            }
                        },
                        "description": "A created game"
                    }
                },
                "summary": "Get a specific game"
            }
        },
        "/v1/games": {
            "post": {
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/createGameRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/game"
                                }
                            }
                        },
                        "description": "Successfully created a game"
                    }
                },
                "summary": "Creating a game"
            }
        },
        "/v1/games/{gameId}/boards": {
            "get": {
                "parameters": [
                    {
                        "name": "gameId",
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/board"
                                    }
                                }
                            }
                        },
                        "description": "Boards in a game"
                    }
                },
                "summary": "Get all boards for a game"
            }
        }
    },
    "components": {
        "schemas": {
            "board": {
                "description": "An individual MineSpeeder board, to be controlled by an individual player",
                "required": [
                    "tiles",
                    "height",
                    "width",
                    "numberOfBombs",
                    "numberOfTiles",
                    "numberOfRemainingTiles",
                    "numberOfRemainingBombs",
                    "state",
                    "id"
                ],
                "type": "object",
                "properties": {
                    "tiles": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/tile"
                        }
                    },
                    "height": {
                        "description": "",
                        "type": "integer"
                    },
                    "width": {
                        "description": "",
                        "type": "integer"
                    },
                    "numberOfBombs": {
                        "description": "",
                        "type": "integer"
                    },
                    "numberOfTiles": {
                        "description": "",
                        "type": "integer"
                    },
                    "numberOfRemainingTiles": {
                        "description": "",
                        "type": "integer"
                    },
                    "numberOfRemainingBombs": {
                        "description": "",
                        "type": "integer"
                    },
                    "state": {
                        "description": "",
                        "enum": [
                            "notStarted",
                            "inProgress",
                            "completed",
                            "failed"
                        ],
                        "type": "string"
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    }
                }
            },
            "tile": {
                "description": "",
                "required": [
                    "state",
                    "xPos",
                    "yPos"
                ],
                "type": "object",
                "properties": {
                    "state": {
                        "description": "",
                        "enum": [
                            "1",
                            "2",
                            "3",
                            "4",
                            "5",
                            "6",
                            "7",
                            "8",
                            "hidden",
                            "empty",
                            "flag",
                            "bomb"
                        ],
                        "type": "string"
                    },
                    "xPos": {
                        "description": "",
                        "type": "integer"
                    },
                    "yPos": {
                        "description": "",
                        "type": "integer"
                    }
                }
            },
            "action": {
                "description": "An action on a board",
                "required": [
                    "xPos",
                    "yPos",
                    "type"
                ],
                "type": "object",
                "properties": {
                    "xPos": {
                        "description": "",
                        "type": "integer"
                    },
                    "yPos": {
                        "description": "",
                        "type": "integer"
                    },
                    "type": {
                        "description": "",
                        "enum": [
                            "reveal",
                            "flag"
                        ],
                        "type": "string"
                    }
                }
            },
            "game": {
                "description": "",
                "required": [
                    "numberOfBoards",
                    "state",
                    "duration",
                    "boardOptions",
                    "boards",
                    "id"
                ],
                "type": "object",
                "properties": {
                    "numberOfBoards": {
                        "description": "",
                        "type": "integer"
                    },
                    "state": {
                        "description": "",
                        "enum": [
                            "created",
                            "started",
                            "finished"
                        ],
                        "type": "string"
                    },
                    "duration": {
                        "description": "seconds of game duration, from started to finished",
                        "type": "integer"
                    },
                    "boardOptions": {
                        "$ref": "#/components/schemas/boardOptions",
                        "description": ""
                    },
                    "boards": {
                        "description": "",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/board"
                        }
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    }
                }
            },
            "boardOptions": {
                "description": "",
                "required": [
                    "height",
                    "width",
                    "numberOfBombs"
                ],
                "type": "object",
                "properties": {
                    "height": {
                        "description": "",
                        "type": "integer"
                    },
                    "width": {
                        "description": "",
                        "type": "integer"
                    },
                    "numberOfBombs": {
                        "description": "",
                        "type": "integer"
                    }
                }
            },
            "createGameRequest": {
                "description": "",
                "required": [
                    "numberOfBoards",
                    "boardOptions",
                    "id"
                ],
                "type": "object",
                "properties": {
                    "numberOfBoards": {
                        "description": "",
                        "type": "integer"
                    },
                    "boardOptions": {
                        "$ref": "#/components/schemas/boardOptions",
                        "description": ""
                    },
                    "id": {
                        "description": "",
                        "type": "string"
                    }
                }
            }
        }
    }
}